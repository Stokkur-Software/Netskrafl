
{% extends "container.html" %}

{% block opengraph %}

<meta property="og:locale" content="is_IS" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Netskrafl" />
<meta property="og:description" content="Spilaðu skrafl á netinu" />
<meta property="og:image" content="{{ url_for('static', filename='NetskraflFacebookImageSq.jpg', _external=True) | safe }}" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="600" />
<meta property="og:image:height" content="600" />

{% endblock %}

{% block startscripts %}
{% include 'firebase.html' %}
{% include 'firebase-auth.html' %}
{% endblock %}

{% block scripts %}
{% endblock %}

{% block logo %}
{% include 'logo.html' %}
{% endblock %}

{% block content %}

<div class="loginform-large">
   <!-- Large UI form -->
   <div class="loginhdr">
      Velkomin í Netskrafl!
   </div>
   <div class="blurb">
      Skemmtilegt | skerpandi | ókeypis
   </div>
   <div id="board-pic"><img src="{{ url_for('static', filename='Board.png') }}" width="310" height="300"></div>
   <div class="welcome">
      Netskrafl er vettvangur <b>yfir 16.000 íslenskra skraflara</b> á netinu.
   </div>
   <div class="welcome">
      Netskrafl notar Google Accounts innskráningu, þá
      sömu og er notuð m.a. í Gmail.
   </div>
   <div class="welcome">
      Netskrafl safnar hvorki persónuupplýsingum né geymir þær.
   </div>
   <div class="welcome">
      Þú getur alltaf
      fengið <a href="{{ url_for('help') }}">hjálp</a> með því að
      smella á <a href="{{ url_for('help') }}">bláa&nbsp;&nbsp;<span class="glyphicon glyphicon-info-sign"></span> - merkið</a>
      hér til vinstri.
   </div>
   <div style="float:right">
      <div id="firebaseui-auth-container" lang="is"></div>
   </div>
</div>

<div class="loginform-small">
   <!-- Small UI form -->
   <div id="logo-pic">
      <img src="{{ url_for('static', filename='LoginLogo600.png') }}" width="300" height="300">
   </div>
   <div class="blurb">
      Skemmtilegt | skerpandi | ókeypis
   </div>
   <div style="text-align: center">
      <div id="firebaseui-auth-container" lang="is"></div>
   </div>
</div>

{% endblock %}

{% block endscripts %}

<script>

var userIdToken = null;

function initMain() {

   firebase.auth().onAuthStateChanged(function(user) {
      if (user) {
         var name = user.displayName;

         /* If the provider gives a display name, use the name for the
            personal welcome message. Otherwise, use the user's email. */
         var welcomeName = name ? name : user.email;

         user.getIdToken().then(function(idToken) {
            userIdToken = idToken;

            /* Do something, now that the user is authenticated */
            console.log(name + ", " + welcomeName + ", " + userIdToken);

         });

      }
      else {
         /* Logged out */
         console.log("Logged out")
      }
   });

   configureFirebaseLoginWidget();
}

$(document).ready(initMain);

</script>

{% endblock %}
